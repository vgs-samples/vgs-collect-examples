<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VGS Collect PII Example</title>

  <!--Replace with generated for your organization JS file.-->
  <script src="https://js.verygoodvault.io/vgs-collect/1/<organization-id>.js"></script>

  <style>
    form span {
      display: block;
      height: 40px;
      width: 300px;
      margin-bottom: 15px;
    }

    span iframe {
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>
<main>
  <!--Create PII info form-->
  <form id="form-pii-info">
    <fieldset>
      <label for="pii-first-name">First Name</label>
      <span id="pii-first-name">
        <!--VGS Collect iframe for the first name will be here!-->
      </span>

      <label for="pii-last-name">Last Name</label>
      <span id="pii-last-name">
        <!--VGS Collect iframe for the last name field will be here!-->
      </span>

      <label for="ssn">SSN</label>
      <span id="ssn">
        <!--VGS Collect iframe for SSN field will be here!-->
      </span>
    </fieldset>
    <!--Submit PII form button-->
    <button type="submit" class="btn btn-info">Search</button>
  </form>
</main>

<!--Include script with VGS Collect form initialization-->
<script>
  // VGS Collect form initialization
  const form = VGSCollect.create('<vault-id>', function(state) {});

  // Create VGS Collect field for the first name
  form.field('#pii-first-name', {
    type: 'text',
    name: 'pii_first_name',
    placeholder: 'Joe',
    validations: ['required'],
  });

  // Create VGS Collect field for the last name
  form.field('#pii-last-name', {
    type: 'text',
    name: 'pii_last_name',
    placeholder: 'Business',
    validations: ['required'],
  });

  // Create VGS Collect field for ssn
  form.field('#ssn', {
    type: 'text',
    name: 'pii_ssn',
    placeholder: 'AAA-GG-SSSS',
    validations: ['required'],
  });

  // Submits all of the form fields by executing a POST request.
  document.getElementById('form-pii-info')
    .addEventListener('submit', function(e) {
      e.preventDefault();
      form.submit('/post', {}, function(status, data) {
        console.log(data);
      });
    }, function (errors) {
      console.log(errors);
    });
</script>
</body>
</html>